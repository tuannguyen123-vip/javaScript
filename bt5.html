<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h3{
            margin-bottom: 20px;
            text-transform: uppercase;
        }
        div{
            margin-bottom: 20px;
        }
        #phi_vc{
            display: none;
        }
        label{
            display: inline-block;
            min-width: 100px;
        }
        select{
            min-width: 100px;
        }
        .error{
            display: inline-block;
            color: red;
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <h3>Đặt hàng</h3>
    <form action="anotherpage.html" method="get" onsubmit="return kiem_tra()">
        <div><label for="">Tên khách hàng</label> <input type="text" name="hoten" id="hoten"/>
            <div class="error" id="error-sp"></div>
        </div> 
        <div><label for="">Số điện thoại</label> <input type="text" name="sdt" id="sdt"/>
            <div class="error" id="error-sdt"></div>
        </div> 
       <div><label for="">Chọn sản phẩm </label>
        <select name="loai" id="loai" onchange="change_gia();">
            <option value=""></option>
            <option value="iphone">Iphone</option>
            <option value="laptop">Laptop</option>
            <option value="tivi">Tivi</option>
          </select>
          <div class="error" id="error-loai"></div>
       </div>
       <div><label for="">Đơn giá </label><input type="text" name="don_gia" id="don_gia"/>
    </div>
       <div><label for="">Nơi nhận hàng</label> 
        <input type="radio" name="dia_chi" value="Nội thành" onclick="hien_thi(false)"/>Nội thành
        <input type="radio" name="dia_chi" value="Ngoại thành" onclick="hien_thi(true)"/>Ngoại thành
        <div class="error" id="error-noinhan"></div>    
    </div>
        <div id="phi_vc"><label for="">Phí Vận chuyển </label>
        <input type="text" name="phi_vc" id="phi_vc2"/>
        <div class="error" id="error-phi"></div>
        </div>
        <input type="submit" value="Đặt mua">
    </form>
    <script>
            var loai = document.getElementById("loai");
           var dongia= document.getElementById("don_gia");
        function change_gia(){
           console.log(loai.value);
            if(loai.value == 'iphone'){
                dongia.value = 10000000;
            }else if(loai.value == 'laptop'){
                dongia.value = 15000000;
            }else{
                dongia.value = 5000000;
            }
        }
        function hien_thi(visible){
            var phi_vc=document.getElementById("phi_vc");
            var phi_vc2=document.getElementById("phi_vc2");
            phi_vc.style.display = visible? "block": "none";
            if (visible){
             phi_vc2.setAttribute("value","1500");
            }else{
                phi_vc2.setAttribute("value","0");
            }
        }
        
        function kiem_tra(){
            var hoten = document.getElementById("hoten");
            if(hoten.value.length == 0){
                document.getElementById('error-sp').innerHTML = 'Vui lòng nhập tên sản phẩm!';
                //alert("Vui lòng nhập tên sản phẩm!");
                return false;
            }
            var sdt = document.getElementById("sdt");
            if(isNaN(sdt.value) || sdt.value.length == 0 ||sdt.length >= 8){
                document.getElementById('error-sdt').innerHTML = 'Vui lòng nhập số điện thoại';
                //alert("Vui lòng nhập tên sản phẩm!");
                return false;
            }
            if(loai.value.length == 0){
                document.getElementById('error-loai').innerHTML = 'Vui lòng chọn loại sản phẩm!';
                //alert("Vui lòng chọn loại sản phẩm!");
                return false;
            }
         
   
            var radios = document.getElementsByName("dia_chi");
            if(!radios[0].checked && !radios[1].checked){
                document.getElementById('error-dongia').innerHTML = 'Vui lòng chọn nơi nhận hàng!';
               // alert("Vui lòng chọn nơi nhận hàng!");
                return false;
            }
            alert("Chúc mừng bạn đã nhập đúng");
            return true;
        }
    </script>
</body>
</html>